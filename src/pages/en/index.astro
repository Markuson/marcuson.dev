---
import Layout from '@/layouts/Layout.astro';
import Hero from '@/sections/Hero.astro';
import About from '@/sections/About.astro';
import Projects from '@/sections/Projects.astro';
import Hobbies from '@/sections/Hobbies.astro';
import Contact from '@/sections/Contact.astro';
import { getEntry } from 'astro:content';

const lang = 'en';
const homeEntry = await getEntry('home', lang);
const fallbackEntry = lang === 'en' ? homeEntry : await getEntry('home', 'en');
const meta = homeEntry?.data ?? fallbackEntry?.data ?? {
  title: 'Marc Uson - Full-Stack Developer & AI Enthusiast',
  description:
    'Ex-industrial automation engineer turned full-stack developer specializing in React, Node.js, IoT, and AI. Building innovative solutions that bridge digital and physical worlds.',
  keywords: [
    'Full-Stack Developer',
    'AI Engineer',
    'IoT Developer',
    'React Developer',
    'Node.js',
    'TypeScript',
    'Machine Learning',
    'Industrial Automation',
    'Uppsala Sweden',
  ],
  type: 'profile',
};
---

<Layout
  title={meta.title}
  description={meta.description}
  lang={lang}
  type={meta.type}
  keywords={meta.keywords}
>
  <Hero lang={lang} />
  <About lang={lang} />
  <Projects lang={lang} />
  <Hobbies lang={lang} />
  <Contact lang={lang} />
</Layout>
