---
import Layout from '@/layouts/Layout.astro';
import Hero from '@/sections/Hero.astro';
import About from '@/sections/About.astro';
import Projects from '@/sections/Projects.astro';
import Hobbies from '@/sections/Hobbies.astro';
import Contact from '@/sections/Contact.astro';
import { getEntry } from 'astro:content';

const lang = 'es';
const homeEntry = await getEntry('home', lang);
const fallbackEntry = lang === 'en' ? homeEntry : await getEntry('home', 'en');
const meta = homeEntry?.data ?? fallbackEntry?.data ?? {
  title: 'Marc Uson - Desarrollador Full-Stack y Entusiasta de la IA',
  description:
    'Ex-ingeniero de automatización industrial convertido en desarrollador full-stack especializado en React, Node.js, IoT e IA. Construyendo soluciones innovadoras que conectan los mundos digital y físico.',
  keywords: [
    'Desarrollador Full-Stack',
    'Ingeniero IA',
    'Desarrollador IoT',
    'Desarrollador React',
    'Node.js',
    'TypeScript',
    'Aprendizaje Automático',
    'Automatización Industrial',
    'Uppsala Suecia',
  ],
  type: 'profile',
};
---

<Layout
  title={meta.title}
  description={meta.description}
  lang={lang}
  type={meta.type}
  keywords={meta.keywords}
>
  <Hero lang={lang} />
  <About lang={lang} />
  <Projects lang={lang} />
  <Hobbies lang={lang} />
  <Contact lang={lang} />
</Layout>
